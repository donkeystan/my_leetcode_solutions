#include<stdio.h>
#include<stdlib.h>
#define NEWLINE printf("\n");

void print_array(int *nums, int numsSize);

double findMedianSortedArrays(int* nums1, int nums1Size, int* nums2, int nums2Size)
{
    int i, j, k;
    int numsSize = nums1Size + nums2Size;
    int nums[numsSize];
    int distance_from_zero = numsSize - 1;
    double median;

    printf("Distance from zero ---> %d\n", distance_from_zero);

    // Merge
    for (i=0, j=0, k=0; i < nums1Size && j < nums2Size; k++ )
    {
        if (nums1[i] <= nums2[j])
        {
            nums[k] = nums1[i++];
        }
        else
        {
            nums[k] = nums2[j++];
        }
    }

    if (i < nums1Size)
    {
        for (i=i; i<nums1Size; i++)
        {
            nums[k++] = nums1[i];
        }
    }

    if (j < nums2Size)
    {
        for (j=j; j<nums2Size; j++)
        {
            nums[k++] = nums2[j];
        }
    }

    if (distance_from_zero == 0)
    {
        median = (double)nums[0];
    }
    else if (0 != (distance_from_zero % 2))
    {
        printf("Distance is odd num ---> median : nums[%d]:[ %d ] + nums[%d]:[ %d ]\n", distance_from_zero/2, nums[distance_from_zero/2],  (distance_from_zero/2) + 1, nums[ (distance_from_zero/2) + 1] );
        median =  (  (double) nums[distance_from_zero/2] +   (double) nums[ (distance_from_zero/2) + 1] )/ 2 ;
    }
    else
    {   
        printf("Distance is odd num ---> median : nums[%d]:[ %d ]\n",distance_from_zero/2, nums[distance_from_zero/2] );
        median = (double)nums[distance_from_zero/2];
    }

    return median;
}

int main(int argc, char const *argv[])
{
    // int nums1[] = {-999153, -996533, -995815, -995255, -991112, -990814, -987441, -986717, -982712, -981892, -981703, -980314, -974931, -973124, -970530, -968327, -965512, -962190, -956832, -956668, -955964, -954916, -950603, -950377, -948932, -945525, -941402, -939405, -935494, -933879, -931427, -930750, -926910, -925281, -922740, -922132, -921138, -918266, -917779, -911578, -909694, -909689, -907759, -907255, -906712, -905688, -904620, -903705, -902979, -894037, -892558, -890616, -886921, -883881, -881485, -880447, -878485, -876600, -874563, -873527, -872673, -870246, -867966, -865116, -863166, -861290, -859172, -858295, -855968, -855602, -855459, -851603, -849870, -849255, -849240, -845876, -844370, -842397, -841544, -840356, -836370, -833387, -833213, -830319, -825929, -824299, -824170, -823412, -817535, -816398, -813159, -811334, -807694, -805455, -802966, -802470, -801574, -798866, -796999, -795756, -795326, -795213, -794989, -793391, -793199, -792566, -784955, -781594, -780814, -780732, -780293, -775545, -774093, -773185, -772673, -771743, -767572, -761445, -758560, -758328, -755445, -754671, -752710, -752282, -742498, -741327, -739323, -737120, -735257, -732898, -729496, -728737, -728538, -728324, -722695, -718133, -714587, -713510, -712536, -712405, -708026, -708020, -707814, -706077, -699683, -699065, -697971, -694162, -694084, -688716, -687421, -686315, -683891, -683553, -680757, -677302, -676672, -664542, -664288, -663450, -661233, -659852, -650076, -649029, -647873, -646208, -643327, -643148, -641255, -640264, -638804, -633820, -633687, -632335, -627299, -625221, -623742, -621462, -621127, -620387, -619837, -619703, -618806, -610701, -607687, -607579, -606412, -604831, -599323, -599220, -588780, -585953, -585910, -585902, -585851, -585845, -582684, -580348, -579444, -577130, -577066, -575384, -574238, -573709, -572939, -572350, -571676, -571223, -565825, -563278, -561011, -557932, -555854, -554594, -551266, -551228, -550784, -548789, -542989, -541432, -529761, -525776, -523940, -523053, -522289, -519155, -517608, -511243, -509726, -507067, -504181, -500338, -497374, -495348, -493782, -492923, -491878, -490717, -485935, -481713, -476707, -476425, -476041, -471208, -471087, -469724, -469146, -465144, -465022, -460602, -460249, -459058, -458262, -456033, -455645, -454004, -450642, -449929, -446717, -446400, -445266, -438425, -435554, -434433, -433218, -430990, -430736, -429531, -422205, -421621, -420193, -418549, -415617, -414128, -410053, -410028, -407895, -405612, -405534, -404239, -403932, -393283, -388850, -386842, -384601, -384283, -382803, -382247, -377375, -376679, -376458, -370988, -369477, -368288, -367470, -365322, -364038, -360889, -360750, -359590, -359096, -358499, -356443, -351555, -341209, -338504, -334597, -333423, -330595, -327412, -320478, -320191, -318278, -315758, -314922, -310252, -310158, -306426, -305311, -304877, -297295, -295137, -294908, -287434, -287041, -286500, -284522, -278064, -272543, -272210, -271160, -269794, -268866, -268764, -267778, -266623, -266092, -263529, -262266, -261823, -259583, -256757, -255508, -254632, -251521, -250916, -246146, -243891, -240031, -239676, -237387, -232764, -228227, -227676, -226104, -225497, -223846, -220240, -216961, -215937, -215849, -215196, -214430, -213581, -211401, -207872, -206798, -204261, -199184, -197456, -194126, -189238, -187494, -186733, -183834, -183570, -183267, -182912, -181701, -179056, -174558, -169400, -162430, -159315, -158324, -158061, -158060, -157648, -156906, -155711, -153218, -153198, -150820, -150785, -147533, -146963, -145853, -144455, -142845, -142827, -140682, -140204, -139456, -136878, -136659, -135653, -135053, -131175, -129053, -128955, -126505, -126503, -126497, -125673, -123483, -123373, -120090, -119396, -118744, -118224, -117846, -117822, -113039, -111964, -109842, -107988, -107308, -97874, -96049, -90154, -88693, -88567, -88312, -85800, -83435, -78267, -76265, -75599, -75544, -73884, -72937, -71355, -70110, -70010, -69792, -69294, -59775, -58756, -57713, -55268, -54514, -53709, -49265, -49148, -45838, -44785, -44346, -39636, -33650, -32195, -29429, -27076, -25181, -24721, -19120, -17421, -15171, -14054, -13067, -10046, -10038, -8418, -8337, -5237, -4964, -4061, -1981, 3200, 4600, 4892, 5420, 5926, 10260, 11126, 13595, 13805, 14319, 15029, 16285, 16866, 20905, 21510, 23968, 25858, 25884, 29642, 34497, 36363, 37884, 39877, 40080, 42478, 44589, 44707, 45633, 47119, 47725, 53734, 55540, 57597, 59791, 60268, 60847, 63563, 64630, 67560, 67637, 68219, 70813, 71776, 73994, 76915, 77097, 78251, 81206, 86533, 88198, 89678, 90596, 91422, 92564, 92976, 93333, 98838, 102736, 104688, 107634, 109521, 111332, 113147, 116093, 117252, 119102, 119297, 120022, 120461, 122736, 125933, 126270, 129675, 131124, 134080, 138516, 140715, 141120, 142189, 142573, 147767, 150612, 151326, 152167, 152347, 152582, 153958, 155269, 155716, 156675, 160224, 160985, 169434, 169993, 173856, 177294, 178354, 179150, 180487, 181755, 185452, 189796, 192553, 192650, 194555, 195474, 196280, 197512, 200204, 200658, 204277, 204737, 206813, 207781, 209215, 209418, 210277, 210839, 211469, 212049, 215245, 216760, 219991, 220408, 222249, 228845, 230005, 231676, 234377, 237408, 242223, 243281, 246636, 251036, 253353, 253425, 259995, 262121, 262240, 269758, 273904, 273942, 275716, 281633, 282853, 283540, 283737, 286755, 287845, 288307, 289306, 294334, 294952, 295733, 296308, 300434, 302398, 305526, 305751, 310712, 313872, 317179, 318010, 318207, 320018, 320287, 323295, 323909, 324191, 329982, 330900, 336105, 336542, 337593, 340088, 340711, 342323, 344334, 344486, 352967, 354728, 357225, 358624, 359336, 360847, 361689, 361777, 363943, 367398, 367751, 371564, 373371, 376189, 378745, 384202, 386717, 387131, 388738, 390123, 391961, 394759, 400752, 405484, 406020, 406935, 407899, 408155, 408220, 408862, 411222, 412449, 412884, 413525, 413906, 415751, 416466, 423177, 423900, 424639, 424785, 424872, 427285, 428738, 430645, 431574, 432928, 433813, 436224, 439513, 441403, 443286, 443612, 447417, 447859, 448146, 453848, 454010, 457016, 458007, 459247, 463290, 463575, 464812, 468746, 469379, 471754, 472480, 474694, 475127, 475865, 475941, 478521, 479107, 479416, 483931, 484891, 485907, 488030, 488207, 489248, 490077, 497917, 499777, 500074, 501203, 501614, 510175, 510598, 510971, 514043, 514094, 519197, 520065, 520374, 521381, 525881, 527538, 529028, 530343, 533388, 539421, 544762, 545260, 546405, 547172, 548011, 548442, 548907, 552391, 552659, 554069, 558316, 562068, 563299, 564866, 566760, 567623, 571028, 573865, 574110, 576859, 577942, 578873, 580695, 581149, 581787, 582382, 584401, 584914, 585522, 586918, 588199, 590191, 590772, 592092, 593243, 593766, 597273, 598302, 598756, 599447, 601508, 602071, 602399, 603191, 604959, 605374, 606141, 606319, 606692, 611736, 612492, 612703, 613621, 615366, 617229, 617578, 619843, 621808, 626797, 631695, 632215, 636588, 636826, 637350, 639364, 643472, 645495, 652451, 653076, 653314, 653415, 659630, 660766, 660925, 663672, 664093, 664803, 667838, 672456, 675762, 678186, 679965, 680224, 680611, 692771, 692976, 693887, 694547, 695035, 697302, 699111, 699611, 702019, 708173, 711327, 711527, 711655, 712405, 713172, 717004, 718688, 723867, 724814, 725132, 725545, 726852, 731659, 731919, 732572, 740388, 740683, 742826, 743049, 743415, 745191, 746314, 749853, 751247, 757273, 759127, 760139, 760369, 761908, 765556, 766549, 767643, 769984, 770005, 771870, 771900, 773516, 774110, 776500, 779216, 782863, 785180, 789938, 794032, 795467, 796755, 799985, 801246, 802676, 805104, 809498, 809740, 811301, 812465, 813728, 814719, 815067, 818878, 819406, 824442, 826711, 830081, 833868, 838751, 839486, 841494, 842236, 844663, 845751, 846815, 847074, 850744, 852961, 853087, 853271, 855427, 857436, 857666, 863344, 863693, 864547, 865279, 866141, 868753, 868900, 870467, 870503, 873311, 873378, 875714, 876151, 877706, 880109, 880441, 885472, 886788, 888196, 892047, 892084, 899704, 901839, 905675, 908186, 909096, 913661, 917578, 919632, 925417, 927566, 929357, 931710, 934298, 934313, 941685, 941969, 944537, 945670, 945900, 946484, 946793, 947262, 948058, 949394, 953778, 959187, 961631, 966460, 968810, 969671, 970096, 971148, 974629, 976545, 977373, 980133, 980968, 981628, 981754, 985429, 985567, 990496, 991237, 991683, 993858, 994549, 995521, 996284, 999174};
    // int nums2[] = {-997931, -997607, -996440, -993347, -989835, -989824, -988246, -986929, -985796, -983604, -982636, -982089, -981919, -977119, -975357, -972467, -970619, -969902, -969661, -969470, -962410, -957326, -957001, -952409, -952103, -950521, -949656, -949582, -948867, -946159, -945305, -939232, -937059, -936647, -936513, -935309, -934649, -930508, -930436, -927950, -926194, -922951, -922720, -911633, -911565, -910864, -904536, -898376, -895630, -891968, -891634, -891246, -886394, -879311, -878968, -872421, -866449, -859980, -859530, -857021, -849851, -849584, -845242, -844162, -843799, -842525, -839402, -834930, -834529, -832097, -829411, -825760, -821846, -818462, -813978, -813194, -810725, -810667, -804040, -801707, -800898, -800770, -797056, -795948, -793935, -793428, -791947, -791772, -789899, -787529, -785160, -784527, -784185, -779667, -777220, -776373, -774130, -773300, -771298, -767266, -767113, -765490, -763712, -763667, -763107, -762732, -760323, -759044, -756985, -754760, -747247, -745616, -744257, -736646, -736424, -735649, -734768, -733854, -728927, -727894, -724376, -722400, -720844, -719087, -717743, -715074, -712017, -709217, -706988, -705619, -701958, -698180, -697544, -695131, -690912, -689122, -686482, -685697, -683911, -682940, -681925, -680642, -679936, -677153, -674483, -672969, -668200, -666916, -664505, -661009, -660878, -660646, -659878, -656636, -653478, -647072, -643331, -643035, -642465, -640855, -638490, -635612, -633216, -631073, -626676, -625948, -625251, -619790, -619194, -617322, -617267, -613713, -612834, -610857, -610493, -607047, -603659, -603170, -603106, -601253, -597178, -596662, -594728, -593865, -593452, -593225, -592574, -589768, -586814, -584948, -584684, -582842, -581462, -578968, -576633, -575914, -574824, -572968, -571505, -569496, -565604, -562759, -559730, -559190, -559032, -556428, -555090, -552559, -551850, -551115, -542410, -541245, -540114, -537754, -534903, -532737, -531408, -531278, -531184, -530011, -528314, -528070, -524404, -523509, -521780, -515285, -515089, -514143, -513259, -513243, -510744, -508177, -504585, -503213, -498731, -497265, -494077, -492914, -492133, -491810, -491150, -486615, -486604, -476988, -476541, -476438, -473983, -472139, -470651, -463683, -463486, -462501, -459444, -458832, -455713, -455349, -453340, -452937, -452758, -451652, -449442, -440856, -437472, -436898, -435588, -435437, -430396, -426955, -426871, -426209, -423353, -422147, -421028, -420588, -417535, -411035, -410482, -409693, -409507, -409359, -407225, -404340, -404283, -403361, -403144, -399970, -397595, -396948, -396105, -392300, -391882, -386566, -384632, -383255, -381565, -380894, -378181, -377480, -371607, -371092, -370868, -368712, -362844, -361438, -361162, -360455, -360245, -360182, -357060, -355009, -352247, -351149, -350614, -348572, -348196, -347788, -347314, -346149, -343993, -341326, -339713, -333345, -330857, -330282, -329087, -326140, -314932, -313717, -312044, -310859, -309910, -309551, -307936, -306577, -306417, -301233, -300069, -299743, -296126, -293990, -293978, -293700, -293158, -292864, -292822, -291783, -291763, -291375, -287974, -287579, -287540, -287235, -286015, -284312, -283371, -272638, -269344, -267665, -263179, -258408, -254559, -253427, -249766, -247367, -246436, -246012, -243790, -237013, -236881, -233167, -232569, -232157, -231959, -231733, -231653, -230882, -227435, -224759, -224592, -215560, -213233, -212674, -211505, -210618, -209549, -207651, -201737, -201127, -199933, -198685, -191781, -191455, -188689, -187054, -185544, -184036, -184008, -182460, -180834, -178012, -175734, -174926, -172944, -171687, -169075, -164938, -163037, -162514, -159233, -158115, -156591, -156190, -150595, -149544, -145681, -143012, -142992, -142469, -137279, -136756, -134424, -133453, -129804, -125413, -125236, -121534, -121282, -120162, -120111, -118077, -117884, -114098, -108057, -106132, -100865, -95782, -95247, -94669, -94616, -93805, -92530, -90987, -84368, -84333, -82803, -77441, -77151, -72591, -63439, -63390, -63344, -62927, -61607, -59856, -58473, -57453, -54273, -54189, -51949, -48039, -46536, -38018, -33929, -28959, -28324, -26272, -25154, -24226, -24063, -22337, -21665, -19898, -18891, -18847, -14480, -14416, -12866, -11943, -8150, -6639, 5660, 7935, 8094, 8578, 14470, 16529, 17981, 21666, 21701, 24476, 25824, 26027, 27349, 29219, 30714, 31742, 33247, 35908, 37418, 41842, 42072, 43417, 53259, 53640, 55250, 59272, 60252, 60281, 60352, 66166, 67467, 68534, 71237, 71759, 71927, 73105, 77173, 77338, 78093, 78783, 81744, 82260, 82926, 87517, 89262, 89953, 90593, 98605, 99902, 101857, 106194, 106867, 109470, 111889, 116499, 117713, 119360, 124065, 128944, 129655, 131454, 132294, 132497, 137999, 139330, 139633, 139901, 141066, 141844, 142991, 143729, 145856, 150843, 151278, 151308, 155644, 156664, 158279, 158837, 159109, 163738, 164279, 165471, 168939, 169564, 169590, 171235, 173451, 175026, 175236, 177008, 183967, 184468, 184469, 184945, 186624, 187616, 188218, 188503, 189737, 192941, 197122, 198631, 198984, 200380, 201559, 203174, 203377, 204267, 210405, 213023, 214361, 215672, 215847, 217787, 219025, 219685, 222306, 222470, 223020, 223439, 226866, 233727, 236509, 236510, 239609, 242654, 245458, 245804, 246459, 247558, 251051, 255681, 260106, 260788, 261548, 264210, 264423, 265494, 265610, 267596, 268524, 269567, 270600, 271218, 273848, 273995, 274235, 274653, 275492, 275816, 276020, 279103, 281092, 284056, 284148, 284519, 285992, 287226, 288009, 289974, 290705, 292462, 293134, 294568, 294665, 299770, 300554, 300595, 300609, 302802, 304778, 305814, 312099, 312808, 320734, 323171, 324190, 325588, 328744, 328971, 329483, 331502, 334782, 334998, 336645, 336783, 336886, 338517, 339651, 340711, 341312, 342419, 343130, 344947, 345836, 346147, 346915, 347342, 349175, 355194, 356420, 356733, 357504, 358278, 360169, 360860, 363734, 364276, 364766, 369064, 369247, 373967, 375824, 379689, 387642, 389229, 389619, 394194, 394441, 401380, 401419, 401488, 403151, 406574, 408439, 411023, 411052, 420804, 423867, 424381, 426106, 427742, 429312, 431128, 432056, 435655, 439818, 441692, 442024, 442378, 442642, 443099, 444505, 446836, 448066, 450701, 451895, 452552, 454108, 454810, 459048, 459084, 459649, 461638, 464921, 465030, 468003, 471748, 471945, 479287, 487226, 487359, 487417, 495423, 495812, 497770, 500449, 500572, 511438, 513067, 518027, 518698, 520288, 522124, 531961, 532825, 535217, 536684, 539470, 540393, 543808, 545124, 547600, 548722, 549244, 551859, 554017, 556461, 557508, 561854, 564020, 566337, 567152, 574680, 575231, 576724, 577712, 581565, 583884, 589977, 593885, 596662, 597954, 602080, 603453, 605356, 608214, 608311, 608352, 608841, 609101, 609988, 612913, 614272, 616003, 620390, 620711, 622529, 624823, 625728, 626621, 629575, 636284, 637359, 639682, 640083, 642434, 646063, 646370, 646943, 647670, 649975, 650456, 651171, 654191, 660846, 665032, 666479, 673034, 674922, 677519, 678232, 679007, 680816, 682115, 684769, 692046, 692578, 697136, 701451, 701454, 702062, 702815, 705715, 706851, 709981, 714922, 715297, 718184, 719628, 720510, 720721, 721562, 722895, 729074, 730074, 739066, 740596, 740966, 748390, 749266, 749269, 750404, 752900, 753742, 754019, 754957, 756379, 757535, 757968, 760365, 761129, 762408, 763328, 763988, 765532, 768280, 768541, 768748, 769193, 770151, 770780, 771403, 774125, 778167, 779931, 781440, 785538, 787297, 791102, 794094, 794436, 795702, 797413, 798227, 801783, 803783, 804988, 806295, 807457, 809591, 809704, 813083, 815524, 815577, 816302, 818912, 819410, 819532, 819781, 820967, 823938, 826054, 833727, 834372, 838601, 842164, 843048, 845251, 846478, 848098, 850209, 852154, 854713, 854810, 857164, 858722, 859925, 861013, 864025, 865236, 867088, 868507, 869861, 870132, 870486, 872244, 877338, 877740, 880118, 882062, 882593, 884039, 884264, 884283, 885191, 885787, 887834, 890036, 898168, 900069, 901661, 904684, 905902, 907362, 907718, 907919, 907925, 909015, 909124, 912955, 913682, 916181, 925133, 926677, 926927, 927361, 929718, 929986, 933160, 939126, 940193, 940447, 943227, 943458, 944334, 944353, 944912, 950783, 951990, 954003, 956345, 956889, 957799, 958137, 959140, 959451, 959931, 960633, 963699, 964866, 966072, 966321, 966438, 966945, 970378, 970459, 973511, 974648, 978039, 978153, 980519, 982934, 987003, 988747, 995968, 997643, 998267, 999046};
    
    // int nums1[] = {5,6,7,8};
    // int nums2[] = {1,2,3,4};

    int nums1[] = {1};
    int nums2[] = {};
    int nums1Size = sizeof(nums1) / sizeof(nums1[0]);
    int nums2Size = sizeof(nums2) / sizeof(nums2[0]);

    printf("nums1Size ---> %d\n", nums1Size);
    printf("nums2Size ---> %d\n", nums2Size);

    double rc = 0;

    rc = findMedianSortedArrays(nums1, nums1Size, nums2, nums2Size);
    printf("rc ---> [ %f ]\n", rc);
    
    return EXIT_SUCCESS;
}

void print_array(int *nums, int numsSize)
{
    int i;
    for (i=0; i<numsSize; i++)
    {
        printf("%d ", nums[i]);
    }
    NEWLINE
}


/*
4. Median of Two Sorted Arrays

Given two sorted arrays nums1 and nums2 of size m and n respectively,
return the median of the two sorted arrays.
The overall run time complexity should be O(log (m+n)).

Example 1:
Input: nums1 = [1,3], nums2 = [2]
Output: 2.00000
Explanation: merged array = [1,2,3] and median is 2.

Example 2:
Input: nums1 = [1,2], nums2 = [3,4]
Output: 2.50000
Explanation: merged array = [1,2,3,4] and median is (2 + 3) / 2 = 2.5.

Constraints:
nums1.length == m
nums2.length == n
0 <= m <= 1000
0 <= n <= 1000
1 <= m + n <= 2000
-10^6 <= nums1[i], nums2[i] <= 10^6
*/